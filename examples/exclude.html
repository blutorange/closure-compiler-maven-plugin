<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/apt/examples/exclude.apt at 2025-03-02
 | Rendered using Apache Maven Fluido Skin 2.0.0-M10
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <meta name="author" content="Samuel Santos" />
    <meta name="author" content="Andre Wachsmuth" />
    <meta name="date" content="2018-10-08" />
    <title>Exclude source files from WAR package – Closure Compiler Maven Plugin</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.0.0-M10.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.0.0-M10.min.js"></script>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/blutorange/closure-compiler-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href=".././">Minify Maven Plugin</a><span class="divider">/</span></li>
    <li class="active">Exclude source files from WAR package</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-03-02</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 2.32.0</li>
        <li class="pull-right"><span class="divider">|</span>
<a href="https://maven.apache.org" class="externalLink">Maven</a></li>
        <li class="pull-right"><a href="http://www.apache.org" class="externalLink">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span3">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="../index.html">Introduction</a></li>
    <li><a href="../plugin-info.html">Goals</a></li>
    <li><a href="../usage.html">Usage</a></li>
    <li><a href="../faq.html">FAQ</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="../examples/basic.html">Basic Configuration</a></li>
    <li><a href="../examples/patterns.html">Using include/exclude patterns</a></li>
    <li><a href="../examples/bundle.html">Bundle Configuration</a></li>
    <li class="active"><a>Exclude source files from WAR package</a></li>
    <li><a href="../examples/m2e.html">Eclipse m2e maven integration</a></li>
    <li><a href="../examples/watch.html">Watching for file changes</a></li>
    <li><a href="../examples/htmlUpdate.html">Updating HTML files</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span9">
<section><a id="Exclude_source_files_from_WAR_package"></a>
<h1>Exclude source files from WAR package</h1>
<p>Sometimes we need to exclude the original source files from the final WAR package.</p>
<p>A possible scenario is when you do not want to make them publicly available via your site for security reasons, or simply only want to include only the minified file in the resulting war.</p>
<p>The method I recommend is to place your source files outside the <code>src/main/resources</code> directory so they won't get included automatically. For example, you could place them in &quot;src/main/js&quot;. Then configure this plugin to output your files to <code>target/generated-resources/js</code> and include that in the WAR file:</p>
<pre class="prettyprint"><code>&lt;build&gt;
  &lt;resources&gt;
    &lt;resource&gt;
      &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;
    &lt;/resource&gt;
    &lt;resource&gt;
      &lt;directory&gt;${project.build.directory}/generated-resources&lt;/directory&gt;
    &lt;/resource&gt;
  &lt;/resources&gt;
&lt;/build&gt;</code></pre>
<p>In case that is not an options, the example below illustrates how to configure Maven WAR Plugin to exclude the undesired source files from the final WAR package.</p>
<p>You should also consider creating separate directories for source files and generated files, this makes the configration clearer.</p>
<pre class="prettyprint"><code>&lt;project&gt;
  &lt;!-- ... --&gt;
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;!-- ... --&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
          &lt;warSourceExcludes&gt;**/file-1.css,...,**/file-n.css,**/file-1.js,...,**/file-n.js&lt;/warSourceExcludes&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      &lt;!-- ... --&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.blutorange&lt;/groupId&gt;
        &lt;artifactId&gt;closure-compiler-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${closure-compiler-maven-plugin.version}&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;default-minify&lt;/id&gt;
            &lt;configuration&gt;
              &lt;includes&gt;
                &lt;include&gt;file-1.js&lt;/include&gt;
                &lt;!-- ... --&gt;
                &lt;include&gt;file-n.js&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/configuration&gt;
            &lt;goals&gt;
              &lt;goal&gt;minify&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      &lt;!-- ... --&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  &lt;!-- ... --&gt;
&lt;/project&gt;</code></pre></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2009–2025
<a href="http://github.com/blutorange">Andre Wachsmuth</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>